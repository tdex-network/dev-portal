"use strict";(self.webpackChunkdev_portal=self.webpackChunkdev_portal||[]).push([[9637],{306:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>s,default:()=>p,frontMatter:()=>o,metadata:()=>i,toc:()=>l});var r=a(8168),n=(a(6540),a(5680));const o={title:"Market Fragmenter Account",sidebar_position:8},s=void 0,i={unversionedId:"provider/daemon/market_fragmenter_account",id:"version-1.0.0/provider/daemon/market_fragmenter_account",title:"Market Fragmenter Account",description:"The marketfragmenteraccount is a special account that makes your life easier when it's about depositing funds to a market.",source:"@site/versioned_docs/version-1.0.0/provider/daemon/market_fragmenter_account.md",sourceDirName:"provider/daemon",slug:"/provider/daemon/market_fragmenter_account",permalink:"/docs/v1/provider/daemon/market_fragmenter_account",draft:!1,editUrl:"https://github.com/tdex-network/dev-portal/edit/master/versioned_docs/version-1.0.0/provider/daemon/market_fragmenter_account.md",tags:[],version:"1.0.0",sidebarPosition:8,frontMatter:{title:"Market Fragmenter Account",sidebar_position:8},sidebar:"version-1.0.0/tutorialSidebar",previous:{title:"Fee Fragmenter Account",permalink:"/docs/v1/provider/daemon/fee_fragmenter_account"},next:{title:"Price feeder",permalink:"/docs/v1/provider/daemon/feeder"}},d={},l=[{value:"Deposit funds",id:"deposit-funds",level:2},{value:"List all derived addresses",id:"list-all-derived-addresses",level:2},{value:"Check the balance",id:"check-the-balance",level:2},{value:"Split the funds",id:"split-the-funds",level:2},{value:"Withdraw funds",id:"withdraw-funds",level:2},{value:"Withdraw funds",id:"withdraw-funds-1",level:2}],u={toc:l},c="wrapper";function p(e){let{components:t,...a}=e;return(0,n.yg)(c,(0,r.A)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,n.yg)("p",null,"The ",(0,n.yg)("inlineCode",{parentName:"p"},"market_fragmenter_account")," is a special account that makes your life easier when it's about depositing funds to a market."),(0,n.yg)("p",null,"The number of concurrent trades a provider can hanlde on a single market depends on the number of utxos owned by that account (and the ",(0,n.yg)("inlineCode",{parentName:"p"},"fee_account")," as well)."),(0,n.yg)("p",null,"For example, let's say your market is funded with one utxo of 1 LBTC and another of 30k USDT, the provider will be able to serve only one trade at a time, because either the LBTC or the USDT utxo is locked as soon as a trade is fullfilled. This causes one of the balances to be zero-ed until the trade is included in blockchain, by making you loose other opportunities in the meanwhile - no trades are allowed in case one or both the balances are zero!"),(0,n.yg)("p",null,"This should make clear that the number of concurrent trades supported on a single market depend on the number of utxos with which it's funded."),(0,n.yg)("p",null,"And this is exactly what's the ",(0,n.yg)("inlineCode",{parentName:"p"},"market_fragmenter_account")," is useful for: considering how hard can this ",(0,n.yg)("em",{parentName:"p"},"fragmentation")," operation be to be done manually - there aren't so many wallet out there that let you make a ",(0,n.yg)("em",{parentName:"p"},"send to many")," transaction - you can just send the whole amount of base and or quote asset to the fragmenter address."),(0,n.yg)("p",null,"The fragmenter sources the \"target\" market from the CLI's config file, so don't forget to set the base and quote assets in your CLI if you didn't yet:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},"$ tdex config set base_asset 144c654344aa716d6f3abcc1ca90e5641e4e2a7f633bc09fe3baf64585819a49\n$ tdex config set quote_asset f3d1ec678811398cd2ae277cbe3849c6f6dbd72c74bc542f7c4b11ff0e820958\n")),(0,n.yg)("h2",{id:"deposit-funds"},"Deposit funds"),(0,n.yg)("p",null,"to deposit funds you have to generate a new address:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},"$ tdex marketfragmenter deposit\n")),(0,n.yg)("p",null,"Now send funds of base and quote asset to this address and wait for them to be confirmed. It not suggested to use this account for fragmenting relatively low amounts. You might get an error if you try to do so; in this case, either send more funds or withdraw everything and proceed with a direct deposit to the market."),(0,n.yg)("h2",{id:"list-all-derived-addresses"},"List all derived addresses"),(0,n.yg)("p",null,"You can see the list of all derived addresses so far with:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},"$ tdex marketfragmenter addresses\n")),(0,n.yg)("h2",{id:"check-the-balance"},"Check the balance"),(0,n.yg)("p",null,"To know when the funds are confirmed, you can keep track of the fragmenter balance with:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},"$ tdex marketfragmenter balanace\n")),(0,n.yg)("h2",{id:"split-the-funds"},"Split the funds"),(0,n.yg)("p",null,"Once the funds are confirmed, you can go forward by splitting and depositing them to the selected market with:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},"$ tdex feefragmenter split\n")),(0,n.yg)("p",null,"You'll see outputs prompted on your terminal. Those are messages coming directly from the provider that keep you up-to-date with the operations executed during the process."),(0,n.yg)("p",null,"The funds deposited to the fragmenter are split in the following way - not customizable:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"1 utxo with 30% the total amount"),(0,n.yg)("li",{parentName:"ul"},"2 utxos with 15% the total amount"),(0,n.yg)("li",{parentName:"ul"},"3 utxos with 10% the total amount"),(0,n.yg)("li",{parentName:"ul"},"5 utxos with 2% the total amoun")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},"$ tdex marketfragmenter split\n")),(0,n.yg)("h2",{id:"withdraw-funds"},"Withdraw funds"),(0,n.yg)("h2",{id:"withdraw-funds-1"},"Withdraw funds"),(0,n.yg)("p",null,"You can withdraw funds from the ",(0,n.yg)("inlineCode",{parentName:"p"},"market_fragmenter_account")," to some receiver(s) with: "),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},'$ tdex fee withdraw \\\n  --password password \\\n  --receivers \'[{"asset": "144c654344aa716d6f3abcc1ca90e5641e4e2a7f633bc09fe3baf64585819a49", "amount": 50000, "address": "tex1qr34j6jpqfkct6a2qtu77jn4fqsnxgc2hstk6wq"}]\'\n')))}p.isMDXComponent=!0},5680:(e,t,a)=>{a.d(t,{xA:()=>u,yg:()=>f});var r=a(6540);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var d=r.createContext({}),l=function(e){var t=r.useContext(d),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},u=function(e){var t=l(e.components);return r.createElement(d.Provider,{value:t},e.children)},c="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,d=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),c=l(a),m=n,f=c["".concat(d,".").concat(m)]||c[m]||p[m]||o;return a?r.createElement(f,s(s({ref:t},u),{},{components:a})):r.createElement(f,s({ref:t},u))}));function f(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,s=new Array(o);s[0]=m;var i={};for(var d in t)hasOwnProperty.call(t,d)&&(i[d]=t[d]);i.originalType=e,i[c]="string"==typeof e?e:n,s[1]=i;for(var l=2;l<o;l++)s[l]=a[l];return r.createElement.apply(null,s)}return r.createElement.apply(null,a)}m.displayName="MDXCreateElement"}}]);