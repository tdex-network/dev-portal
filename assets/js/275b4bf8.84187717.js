"use strict";(self.webpackChunkdev_portal=self.webpackChunkdev_portal||[]).push([[8099],{4601:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>m,frontMatter:()=>o,metadata:()=>s,toc:()=>i});var n=a(8168),r=(a(6540),a(5680));const o={title:"Deposit funds",sidebar_position:1},c=void 0,s={unversionedId:"provider/daemon/market/deposit_funds",id:"version-0.9.1/provider/daemon/market/deposit_funds",title:"Deposit funds",description:"Create a new market",source:"@site/versioned_docs/version-0.9.1/provider/daemon/market/deposit_funds.md",sourceDirName:"provider/daemon/market",slug:"/provider/daemon/market/deposit_funds",permalink:"/docs/v0/provider/daemon/market/deposit_funds",draft:!1,editUrl:"https://github.com/tdex-network/dev-portal/edit/master/versioned_docs/version-0.9.1/provider/daemon/market/deposit_funds.md",tags:[],version:"0.9.1",sidebarPosition:1,frontMatter:{title:"Deposit funds",sidebar_position:1},sidebar:"version-0.9.1/tutorialSidebar",previous:{title:"Fee Account",permalink:"/docs/v0/provider/daemon/fee_account"},next:{title:"Manage a market",permalink:"/docs/v0/provider/daemon/market/manage_account"}},d={},i=[{value:"Create a new market",id:"create-a-new-market",level:2},{value:"Deposit and claim funds",id:"deposit-and-claim-funds",level:2}],l={toc:i},p="wrapper";function m(e){let{components:t,...a}=e;return(0,r.yg)(p,(0,n.A)({},l,a,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("h2",{id:"create-a-new-market"},"Create a new market"),(0,r.yg)("p",null,"Creating a new market is simple as providing the asset pair of the market with:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-bash"},"$ tdex market new --base_asset 5ac9f65c0efcc4775e0baec4ec03abdde22473cd3cf33c0419ca290e0751b225 --quote_asset b33ddc389d5dabae5b8e371b535433b1c18505ecf656fce6ca8540c07ec2bde5\n#\n# market created\n")),(0,r.yg)("p",null,"This operation fails if trying to create a market already existing in the daemon, ie. with the same asset pair.\nAfter you've created the market, it needs to be funded with deposits of both the base and quote assets.",(0,r.yg)("br",{parentName:"p"}),"\n","Before doing that, though, let's set the assets of the market in the CLI config:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-bash"},"$ tdex config set base_asset 5ac9f65c0efcc4775e0baec4ec03abdde22473cd3cf33c0419ca290e0751b225\n# base_asset 5ac9f65c0efcc4775e0baec4ec03abdde22473cd3cf33c0419ca290e0751b225 has been set\n\n$ tdex config set quote_asset b33ddc389d5dabae5b8e371b535433b1c18505ecf656fce6ca8540c07ec2bde5\n# quote_asset b33ddc389d5dabae5b8e371b535433b1c18505ecf656fce6ca8540c07ec2bde5 has been set\n")),(0,r.yg)("h2",{id:"deposit-and-claim-funds"},"Deposit and claim funds"),(0,r.yg)("p",null,"Get some deposit address(es):"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-bash"},'tdex market deposit --num_of_addresses 2\n# {\n#   "address_with_blinding_key": [\n#     {\n#       "address": "el1qq2gn3y2r5405dppjk2yc2tjg0zxxy35fr0y9lc3yyrnyf07ktuht0ymzrh8hnjwl62w9ws6jwl3yh40k8cd26wfc27sug3rmh",\n#       "blinding": "2fab376ffecbee0cb7b70794373be35c7b24340a2652f1a10c8200b04ab3eedb"\n#     },\n#     {\n#       "address": "el1qq092gt6vyda85eqmqk5xh6dmjujljvm5mjzurn9k36nu6f6veheqqyh3hgtlwpd0y70tdccf5ua395hugwjv2ccw237cl9tal",\n#       "blinding": "7eab1dea4e504bb90ff96e692393ecb55f9edf9e4c840cd820e24ef27f4a27b0"\n#     }\n#   ]\n# }\n')),(0,r.yg)("p",null,"Send funds of both the base and quote asset to the address(es), then you can claim the deposits for the market:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-bash"},'$ tdex-cli market claim --outpoints \'[{"hash": "a85d92ce884cc578c28dc976166ab848c78580ab217d3cb66ab44f423e402adb", "index": 1}, {"hash": "57fc2ff04316f753a042b129a2f381471baf1adb11caa5e596a6c9ac339ebc47", "index": 1}]\'\n\n#\xa0market is funded\n')),(0,r.yg)("p",null,"The daemon will start watching for those unconfirmed unspents if needed. You might not see the expected available balance until all utxos have ben at least included in blockchain."),(0,r.yg)("admonition",{type:"tip"},(0,r.yg)("p",{parentName:"admonition"},"Take a look at the ",(0,r.yg)("a",{parentName:"p",href:"/docs/v0/provider/daemon/market_fragmenter_account"},"Market Fragmenter"),", a special account that splits its funds into many fragments, becoming then deposits of a market account. This account aims to make you life easier for depositing funds to some market account.")),(0,r.yg)("p",null,"Check out all other available commands to ",(0,r.yg)("a",{parentName:"p",href:"/docs/v0/provider/daemon/market/manage_account"},"manage a market")," account."))}m.isMDXComponent=!0},5680:(e,t,a)=>{a.d(t,{xA:()=>l,yg:()=>u});var n=a(6540);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var d=n.createContext({}),i=function(e){var t=n.useContext(d),a=t;return e&&(a="function"==typeof e?e(t):c(c({},t),e)),a},l=function(e){var t=i(e.components);return n.createElement(d.Provider,{value:t},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},f=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,d=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),p=i(a),f=r,u=p["".concat(d,".").concat(f)]||p[f]||m[f]||o;return a?n.createElement(u,c(c({ref:t},l),{},{components:a})):n.createElement(u,c({ref:t},l))}));function u(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,c=new Array(o);c[0]=f;var s={};for(var d in t)hasOwnProperty.call(t,d)&&(s[d]=t[d]);s.originalType=e,s[p]="string"==typeof e?e:r,c[1]=s;for(var i=2;i<o;i++)c[i]=a[i];return n.createElement.apply(null,c)}return n.createElement.apply(null,a)}f.displayName="MDXCreateElement"}}]);