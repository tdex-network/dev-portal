"use strict";(self.webpackChunkdev_portal=self.webpackChunkdev_portal||[]).push([[702],{2347:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>u,frontMatter:()=>a,metadata:()=>l,toc:()=>d});var r=n(8168),o=(n(6540),n(5680));const a={title:"Init & Unlock",sidebar_position:3},i=void 0,l={unversionedId:"provider/daemon/init_daemon",id:"version-1.0.0/provider/daemon/init_daemon",title:"Init & Unlock",description:"Once the daemon is up and running and you have configured your CLI, you should initialize and unlock both its wallet and database.",source:"@site/versioned_docs/version-1.0.0/provider/daemon/init_daemon.md",sourceDirName:"provider/daemon",slug:"/provider/daemon/init_daemon",permalink:"/docs/v1/provider/daemon/init_daemon",draft:!1,editUrl:"https://github.com/tdex-network/dev-portal/edit/master/versioned_docs/version-1.0.0/provider/daemon/init_daemon.md",tags:[],version:"1.0.0",sidebarPosition:3,frontMatter:{title:"Init & Unlock",sidebar_position:3},sidebar:"version-1.0.0/tutorialSidebar",previous:{title:"Configure the CLI",permalink:"/docs/v1/provider/daemon/getting_started/configure_cli"},next:{title:"Migrate a daemon to v1",permalink:"/docs/v1/provider/daemon/migrate_daemon"}},s={},d=[{value:"Setup the wallet",id:"setup-the-wallet",level:2},{value:"Unlock the wallet",id:"unlock-the-wallet",level:2}],p={toc:d},c="wrapper";function u(e){let{components:t,...n}=e;return(0,o.yg)(c,(0,r.A)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.yg)("p",null,"Once the daemon is up and running and you have configured your CLI, you should initialize and unlock both its wallet and database."),(0,o.yg)("p",null,"You can skip the following steps if you need to ",(0,o.yg)("a",{parentName:"p",href:"/docs/v1/provider/daemon/migrate_daemon"},"migrate your daemon")," from the old ",(0,o.yg)("em",{parentName:"p"},"v0")," to new ",(0,o.yg)("em",{parentName:"p"},"v1")," instead."),(0,o.yg)("h2",{id:"setup-the-wallet"},"Setup the wallet"),(0,o.yg)("p",null,"To create a new wallet you need a 24 words mnemonic. You can either generate your random mnemonic by your own, or you can make use of the following command:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"$ tdex genseed\n")),(0,o.yg)("p",null,"You can now initialize the provider's wallet: "),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},'$ tdex init --password password --seed "place defense olive vast forum outer accident tissue story agent turtle desert wool wink device glass cruise chalk simple club enforce borrow health fat"\n')),(0,o.yg)("p",null,"You can either restore an existing wallet by simply adding a ",(0,o.yg)("inlineCode",{parentName:"p"},"--restore")," flag:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},'$ tdex init --password password --seed "place defense olive vast forum outer accident tissue story agent turtle desert wool wink device glass cruise chalk simple club enforce borrow health fat" --restore\n')),(0,o.yg)("admonition",{type:"tip"},(0,o.yg)("p",{parentName:"admonition"},"The provider restores the addresses, utxos and txs of all the BIP-32 accounts derived from the root path ",(0,o.yg)("inlineCode",{parentName:"p"},"m/84'/0'"),' by using a gap of 200 "unused" addresses and 2 "empty" accounts to consider the job done. This is for historical reason, since the previous v0 versions were using that specific root path.'),(0,o.yg)("p",{parentName:"admonition"},"If you want to restore a wallet with a different root path, you can do it by ",(0,o.yg)("a",{parentName:"p",href:"https://github.com/vulpemventures/ocean/tree/master#local-run"},"interacting directly with the Ocean wallet"),". In this case, you can skip the provider's initialization phase and start directly from the unlock one once the restoration is complete.")),(0,o.yg)("h2",{id:"unlock-the-wallet"},"Unlock the wallet"),(0,o.yg)("p",null,"Now that the provider has been initialized, let's unlock it:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"$ tdex unlock --password password\n")),(0,o.yg)("p",null,"Everytime you restart your provider, it requires to be unlocked, so you may find useful activating its ",(0,o.yg)("strong",{parentName:"p"},"auto-unlock")," feature."),(0,o.yg)("p",null,"This can be done by saving the password to a text file and configure the daemon by exporting the environment variable ",(0,o.yg)("inlineCode",{parentName:"p"},"TDEX_WALLET_UNLOCK_PASSWORD_FILE=path/to/pwd.txt"),". This instructs your provider to use the password stored in the file to unlock itself right after it has started."),(0,o.yg)("p",null,"Great! You've initialized and unlocked your daemon. It's time to ",(0,o.yg)("a",{parentName:"p",href:"/docs/v1/provider/daemon/fee_account"},"deposit funds to the ",(0,o.yg)("inlineCode",{parentName:"a"},"fee_account"))," and then ",(0,o.yg)("a",{parentName:"p",href:"/docs/v1/provider/daemon/market_account"},"setup a new market"),"."))}u.isMDXComponent=!0},5680:(e,t,n)=>{n.d(t,{xA:()=>p,yg:()=>y});var r=n(6540);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=r.createContext({}),d=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=d(e.components);return r.createElement(s.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),c=d(n),m=o,y=c["".concat(s,".").concat(m)]||c[m]||u[m]||a;return n?r.createElement(y,i(i({ref:t},p),{},{components:n})):r.createElement(y,i({ref:t},p))}));function y(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[c]="string"==typeof e?e:o,i[1]=l;for(var d=2;d<a;d++)i[d]=n[d];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"}}]);