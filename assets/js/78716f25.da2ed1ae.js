"use strict";(self.webpackChunkdev_portal=self.webpackChunkdev_portal||[]).push([[6585],{2128:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>i,default:()=>m,frontMatter:()=>o,metadata:()=>l,toc:()=>g});var a=n(8168),r=(n(6540),n(5680));const o={title:"Configure the daemon",sidebar_position:4},i=void 0,l={unversionedId:"provider/daemon/getting_started/configure_daemon",id:"version-1.0.0/provider/daemon/getting_started/configure_daemon",title:"Configure the daemon",description:"The daemon can be configured by exporting environment variables before it is started. It offers many options that let you customize it depending on your needs.",source:"@site/versioned_docs/version-1.0.0/provider/daemon/getting_started/configure_daemon.md",sourceDirName:"provider/daemon/getting_started",slug:"/provider/daemon/getting_started/configure_daemon",permalink:"/docs/v1/provider/daemon/getting_started/configure_daemon",draft:!1,editUrl:"https://github.com/tdex-network/dev-portal/edit/master/versioned_docs/version-1.0.0/provider/daemon/getting_started/configure_daemon.md",tags:[],version:"1.0.0",sidebarPosition:4,frontMatter:{title:"Configure the daemon",sidebar_position:4},sidebar:"version-1.0.0/tutorialSidebar",previous:{title:"Run Standalone",permalink:"/docs/v1/provider/daemon/getting_started/run_standalone"},next:{title:"Configure the CLI",permalink:"/docs/v1/provider/daemon/getting_started/configure_cli"}},d={},g=[],p={toc:g},y="wrapper";function m(e){let{components:t,...n}=e;return(0,r.yg)(y,(0,a.A)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("p",null,"The daemon can be configured by exporting environment variables before it is started. It offers many options that let you customize it depending on your needs. "),(0,r.yg)("p",null,"The following table shows all the environment variables available along with their default values:"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Name"),(0,r.yg)("th",{parentName:"tr",align:null},"Description"),(0,r.yg)("th",{parentName:"tr",align:null},"Default Value"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"TDEX_DATADIR")),(0,r.yg)("td",{parentName:"tr",align:null},"Let's you change the daemon's datadir path."),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"~/.tdex-daemon")," (Linux).",(0,r.yg)("br",null),(0,r.yg)("br",null),(0,r.yg)("inlineCode",{parentName:"td"},"~/Library/Application\\ Support/Tdex-daemon")," (MacOS).")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"TDEX_LOG_LEVEL")),(0,r.yg)("td",{parentName:"tr",align:null},"Let's you change the verbosity of the logs with a numeric value in the range ",(0,r.yg)("inlineCode",{parentName:"td"},"[0, 6]"),". You can see all possible values ",(0,r.yg)("a",{parentName:"td",href:"https://github.com/Sirupsen/logrus#level-logging"},"here")," listed from value ",(0,r.yg)("inlineCode",{parentName:"td"},"6")," down to ",(0,r.yg)("inlineCode",{parentName:"td"},"0"),"."),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"4")," (INFO)")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"TDEX_OPERATOR_LISTENING_PORT")),(0,r.yg)("td",{parentName:"tr",align:null},"Let's you change the port on which reaching the Operator interface."),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"9000"))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"TDEX_TRADE_LISTENING_PORT")),(0,r.yg)("td",{parentName:"tr",align:null},"Let's you change the port on which reaching the Trade interface. If you set both ports to the same value the daemon runs in single port mode."),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"9945"))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"TDEX_WALLET_ADDR")),(0,r.yg)("td",{parentName:"tr",align:null},"The address in the form ",(0,r.yg)("inlineCode",{parentName:"td"},"host:port")," where to reach the Ocean wallet service. TLS connection is not supported here intentionally to force the wallet and the daemon to be served in the same machine so that the first is not exposed to the outside world."),(0,r.yg)("td",{parentName:"tr",align:null})),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"TDEX_DB_TYPE")),(0,r.yg)("td",{parentName:"tr",align:null},"Let's you change the db type. At the moment only ",(0,r.yg)("inlineCode",{parentName:"td"},"badger")," (filesystem) is supported, will soon support also ",(0,r.yg)("inlineCode",{parentName:"td"},"postgres")," (sql) as a more consistent storage type meant for production environment."),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"badger"))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"TDEX_NO_MACAROONS")),(0,r.yg)("td",{parentName:"tr",align:null},"Let's you disable the macaroon auth over the Operator interface."),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"false"))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"TDEX_NO_OPERATOR_TLS")),(0,r.yg)("td",{parentName:"tr",align:null},"Let's you disable the self-signed TLS encryption over the Operator interface."),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"false"))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"TDEX_OPERATOR_EXTRA_IP")),(0,r.yg)("td",{parentName:"tr",align:null},"Let's you add one or more IP addresses to be included in the self-signed TLS certificate so that you can access the Operator interface from the outside by using them - can be repeated for multiple addresses."),(0,r.yg)("td",{parentName:"tr",align:null})),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"TDEX_OPERATOR_EXTRA_DOMAIN")),(0,r.yg)("td",{parentName:"tr",align:null},"Let's you add one or more domains to be included in the self-signed TLS certificate so that you can access the Operator interface from the outside by using them - can be repeated for multiple domains."),(0,r.yg)("td",{parentName:"tr",align:null})),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"TDEX_TRADE_TLS_KEY")),(0,r.yg)("td",{parentName:"tr",align:null},"Let's you enable self-signed TLS encryption over the Trade interface by specifying the path to your private key."),(0,r.yg)("td",{parentName:"tr",align:null})),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"TDEX_TRADE_TLS_CERT")),(0,r.yg)("td",{parentName:"tr",align:null},"Let's you enable self-signed TLS encryption over the Trade interface by specifying the path to your certificate. Must be used in combo with the env var right above."),(0,r.yg)("td",{parentName:"tr",align:null})),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"TDEX_CONNECT_ADDR")),(0,r.yg)("td",{parentName:"tr",align:null},"Let's you change the address (in the form ",(0,r.yg)("inlineCode",{parentName:"td"},"host:port"),") used to compose the daemon's connect URL. Useful if you make use of a reverse proxy to make your Operator interface publicly reachable."),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"localhost:9000"))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"TDEX_CONNECT_PROTO")),(0,r.yg)("td",{parentName:"tr",align:null},"Let's you change the proto used to compose the daemon's connect URL. If the operator TLS encryption is disabled it can assume either ",(0,r.yg)("inlineCode",{parentName:"td"},"http")," or ",(0,r.yg)("inlineCode",{parentName:"td"},"https"),", otherwise it must be set to ",(0,r.yg)("inlineCode",{parentName:"td"},"https"),"."),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"https"))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"TDEX_ENABLE_PROFILER")),(0,r.yg)("td",{parentName:"tr",align:null},"Let's you enable the Prometheus profiler."),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"false"))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"TDEX_STATS_INTERVAL")),(0,r.yg)("td",{parentName:"tr",align:null},"Let's you customize the interval to periodically keep note of the stats of the daemon. Ignored if profiler is disabled."),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"600")," (10 minutes)")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"TDEX_WALLET_UNLOCK_PASSWORD_FILE")),(0,r.yg)("td",{parentName:"tr",align:null},"Let's you define the path of the file containing the unlocking password to activate the auto-unlocking feature whenever the daemon is restarted."),(0,r.yg)("td",{parentName:"tr",align:null})),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"TDEX_TX_SATS_PER_BYTE")),(0,r.yg)("td",{parentName:"tr",align:null},"Let's you change the sats/byte ratio used by the daemon when crafting its transactions for paying network fees. Can assume values in the range ",(0,r.yg)("inlineCode",{parentName:"td"},"[0.1, 10000]"),"."),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"0.11"))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"TDEX_FEE_ACCOUNT_BALANCE_THRESHOLD")),(0,r.yg)("td",{parentName:"tr",align:null},"Let's you change the threshold amount below which the provider starts notifying about fee account low balance through webhooks (if set)."),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"5000"))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"TDEX_PRICE_SLIPPAGE")),(0,r.yg)("td",{parentName:"tr",align:null},"Let's you adjust the tolerance of your provider for accepting trades with a price (slightly) different from the market's one. The bigger is the value, the higher is the tollerance."),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"0.05")," (i.e. a tollerance of the 0.05% of a market)")))))}m.isMDXComponent=!0},5680:(e,t,n)=>{n.d(t,{xA:()=>p,yg:()=>u});var a=n(6540);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var d=a.createContext({}),g=function(e){var t=a.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=g(e.components);return a.createElement(d.Provider,{value:t},e.children)},y="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},s=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,d=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),y=g(n),s=r,u=y["".concat(d,".").concat(s)]||y[s]||m[s]||o;return n?a.createElement(u,i(i({ref:t},p),{},{components:n})):a.createElement(u,i({ref:t},p))}));function u(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=s;var l={};for(var d in t)hasOwnProperty.call(t,d)&&(l[d]=t[d]);l.originalType=e,l[y]="string"==typeof e?e:r,i[1]=l;for(var g=2;g<o;g++)i[g]=n[g];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}s.displayName="MDXCreateElement"}}]);