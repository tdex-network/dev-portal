"use strict";(self.webpackChunkdev_portal=self.webpackChunkdev_portal||[]).push([[613],{2377:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>d});var n=r(8168),o=(r(6540),r(5680));const a={title:"Overview",sidebar_position:1},i=void 0,s={unversionedId:"provider/daemon/overview",id:"version-1.0.0/provider/daemon/overview",title:"Overview",description:"The daemon is that tool enabling a Liquidity provider to execute automated market marking strategies on top of TDEX.",source:"@site/versioned_docs/version-1.0.0/provider/daemon/overview.md",sourceDirName:"provider/daemon",slug:"/provider/daemon/overview",permalink:"/docs/v1/provider/daemon/overview",draft:!1,editUrl:"https://github.com/tdex-network/dev-portal/edit/master/versioned_docs/version-1.0.0/provider/daemon/overview.md",tags:[],version:"1.0.0",sidebarPosition:1,frontMatter:{title:"Overview",sidebar_position:1},sidebar:"version-1.0.0/tutorialSidebar",previous:{title:"Overview",permalink:"/docs/v1/provider/intro"},next:{title:"Overview",permalink:"/docs/v1/provider/daemon/getting_started/overview"}},p={},d=[{value:"Data directory",id:"data-directory",level:2}],l={toc:d},c="wrapper";function u(e){let{components:t,...r}=e;return(0,o.yg)(c,(0,n.A)({},l,r,{components:t,mdxType:"MDXLayout"}),(0,o.yg)("p",null,"The daemon is that tool enabling a Liquidity provider to execute automated market marking strategies on top of TDEX."),(0,o.yg)("p",null,"It exposes two HTTP (both v1.1 and v2) interfaces (REST, gRPC), one meant to be public and consumed by traders that fully implements ",(0,o.yg)("a",{parentName:"p",href:"https://github.com/tdex-network/tdex-specs/blob/master/04-trade-protocol.md"},"BOTD #4")," called ",(0,o.yg)("strong",{parentName:"p"},"trade interface")," (by default on the port ",(0,o.yg)("strong",{parentName:"p"},"9945"),") and another private to be consumed by the liquidity provider for internal management called ",(0,o.yg)("strong",{parentName:"p"},"operator interface")," (by default on the port ",(0,o.yg)("strong",{parentName:"p"},"9000"),"). The specs of the operator interface can be found ",(0,o.yg)("a",{parentName:"p",href:"https://github.com/tdex-network/tdex-daemon/blob/v1/api-spec/protobuf/tdex-daemon/v2/operator.proto"},"here"),"."),(0,o.yg)("p",null,"The daemon requires a connection to an ",(0,o.yg)("a",{parentName:"p",href:"https://github.com/vulpemventures/ocean"},"Ocean wallet"),", the Liquid hot wallet that manages keys and utxos for crafting trades, but also deposits and withdrawals transactions and that acts also as a source of blockchain events such as utxos/txs confirmation, etc."),(0,o.yg)("p",null,"The daemon makes use of multiple accounts created on the Ocean wallet, each one with its own purpose:"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"Fee account"),": meant to own only LBTC funds, used to pay for network fees for trade, withdrawal, or deposit transactions."),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"Fee fragmenter account"),": meant to own only LBTC funds, used to make a single deposit that is then split into multiple utxos deposited on the fee account. This is convenient for supporting many concurrent transactions at the same time."),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"Market account(s)"),": each market is associated with a unique account of the Ocean wallet that owns only funds of base and quote assets."),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"Market framgneter account"),": seemingly to the fee fragmenter, this special account can be used to deposit funds that are then split into multiple fragments and sent to the target market account. Depositing market funds via the fragmenter helps increasing the number of concurrent trades supported by the provider.")),(0,o.yg)("h2",{id:"data-directory"},"Data directory"),(0,o.yg)("p",null,"The first time you run the daemon, it creates a ",(0,o.yg)("strong",{parentName:"p"},"data directory")," (",(0,o.yg)("inlineCode",{parentName:"p"},"~/.tdex-daemon")," for linux and ",(0,o.yg)("inlineCode",{parentName:"p"},"~/Library/Application\\ Support/Tdex-daemon")," for macOS) that might be used to store data like the markets (assets, fees, strategy...) and the transaction history (deposits, trades, withdrawals) depending on the configured db type."),(0,o.yg)("p",null,"It's possible to use a different path for the data directory by exporting the environment variable ",(0,o.yg)("inlineCode",{parentName:"p"},"TDEX_DATADIR"),". If you use docker you must mount the volume pointing to the different chosen path."),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Be sure to backup this folder to keep your markets running in case of hardware failures. You can always restore the access to your funds and markets with your mnemonic seed, but some data like the whole trading history might be lost forever otherwise.")))}u.isMDXComponent=!0},5680:(e,t,r)=>{r.d(t,{xA:()=>l,yg:()=>f});var n=r(6540);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var p=n.createContext({}),d=function(e){var t=n.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},l=function(e){var t=d(e.components);return n.createElement(p.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,a=e.originalType,p=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),c=d(r),m=o,f=c["".concat(p,".").concat(m)]||c[m]||u[m]||a;return r?n.createElement(f,i(i({ref:t},l),{},{components:r})):n.createElement(f,i({ref:t},l))}));function f(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=r.length,i=new Array(a);i[0]=m;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s[c]="string"==typeof e?e:o,i[1]=s;for(var d=2;d<a;d++)i[d]=r[d];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"}}]);