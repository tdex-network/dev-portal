<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="TDEX Network RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="TDEX Network Atom Feed"><title data-rh="true">Deploy a TDEX Daemon to AWS with Terraform | TDEX Network</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://dev.tdex.network/img/tdex-og-image.png"><meta data-rh="true" name="twitter:image" content="https://dev.tdex.network/img/tdex-og-image.png"><meta data-rh="true" property="og:url" content="https://dev.tdex.network/blog/tdex-terraform-deploy-aws/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Deploy a TDEX Daemon to AWS with Terraform | TDEX Network"><meta data-rh="true" name="description" content="Configure and run the TDEX box easily using Terraform automation."><meta data-rh="true" property="og:description" content="Configure and run the TDEX box easily using Terraform automation."><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2021-09-15T00:00:00.000Z"><meta data-rh="true" property="article:tag" content="terraform,automation,tdex,deploy"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://dev.tdex.network/blog/tdex-terraform-deploy-aws/"><link data-rh="true" rel="alternate" href="https://dev.tdex.network/blog/tdex-terraform-deploy-aws/" hreflang="en"><link data-rh="true" rel="alternate" href="https://dev.tdex.network/blog/tdex-terraform-deploy-aws/" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.8554b61e.css">
<link rel="preload" href="/assets/js/runtime~main.8b4282f6.js" as="script">
<link rel="preload" href="/assets/js/main.57348e5c.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/tdex-logo.png" alt="TDEX logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/tdex-logo.png" alt="TDEX logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Developer Portal</b></a><a class="navbar__item navbar__link" href="/docs/latest/">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog/">Blog</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/latest/">latest</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/latest/">latest</a></li><li><a class="dropdown__link" href="/docs/v1/">1.0.0</a></li><li><a class="dropdown__link" href="/docs/v0/">0.9.1</a></li></ul></div><a href="https://github.com/tdex-network" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/announcing-tdex-v2/">Announcing TDEX v2</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/liquid-pegin-browser/">Liquid Bitcoin peg-in(s) in the browser!</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/tdex-terraform-deploy-aws/">Deploy a TDEX Daemon to AWS with Terraform</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="title_f1Hy" itemprop="headline">Deploy a TDEX Daemon to AWS with Terraform</h1><div class="container_mt6G margin-vert--md"><time datetime="2021-09-15T00:00:00.000Z" itemprop="datePublished">September 15, 2021</time> · <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><span itemprop="name">Alexander K</span></div><small class="avatar__subtitle" itemprop="description">TDEX Contributor</small></div></div></div></div></header><div id="post-content" class="markdown" itemprop="articleBody"><p>Configure and run the TDEX box easily using Terraform automation. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-user-and-obtain-aws-keys">Create a user and obtain AWS Keys<a class="hash-link" href="#create-a-user-and-obtain-aws-keys" title="Direct link to heading">​</a></h3><p>As a first step it is required to obtain AWS access and secret keys. Best practice is to create a new user in AWS IAM.
Please navigate to Services &gt; IAM page &gt; Add user.
Open the AWS IAM users page, and click on Add user. Provide user with name and select Programmatic access on the Access type section. </p><p><img loading="lazy" alt="Add User" src="/assets/images/add-user-11d882df7faae15f701edb54ee2ab67c.png" width="1014" height="518" class="img_ev3q"></p><p>Next, make sure that your AWS account (access key) has all the required privileges to create EC2 instances and S3 access.
Permissions you need: EC2 full, S3 full and VPC access.</p><p><img loading="lazy" alt="Attach permissions" src="/assets/images/attach-perms-617d07e15336bce352380e648778a124.png" width="1035" height="618" class="img_ev3q"></p><p>Once you add Permissions and Tags, click Create user. That will bring you to the latest page provided with AWS Access and Secret Keys.
Copy your keys to a safe place and do not share them with anyone.</p><p><img loading="lazy" alt="Attach permissions" src="/assets/images/user-keys-bf94f5fd19fa23443ecccf24126a65b9.png" width="1036" height="523" class="img_ev3q"></p><p>Check the documentation <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_create.html" target="_blank" rel="noopener noreferrer">here</a></p><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="install-terraform">Install Terraform<a class="hash-link" href="#install-terraform" title="Direct link to heading">​</a></h3><p>Next step is to install Terraform on your machine.
The easiest way is to follow the official documentation <a href="https://www.terraform.io/docs/cli/install/apt.html" target="_blank" rel="noopener noreferrer">here</a>.
For Debian and Ubuntu APT Packages, you can also follow this installation.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> -fsSL https://apt.releases.hashicorp.com/gpg </span><span class="token operator">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> apt-key </span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token plain"> -</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> apt-add-repository </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;deb [arch=</span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">$(</span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">dpkg --print-architecture</span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">)</span><span class="token string" style="color:rgb(255, 121, 198)">] https://apt.releases.hashicorp.com </span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">$(</span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">lsb_release -cs</span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">)</span><span class="token string" style="color:rgb(255, 121, 198)"> main&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">apt</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"> terraform</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="proceed-with-cloning-and-deployment">Proceed with cloning and deployment<a class="hash-link" href="#proceed-with-cloning-and-deployment" title="Direct link to heading">​</a></h3><p>Clone the TDEX Box repository and enter its directory. </p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> clone https://github.com/tdex-network/tdex-box.git</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">cd</span><span class="token plain"> tdex-box</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><hr><p>On the AWS AMI Marketplace, find Ubuntu 20.04 public AMI, accessible in the region you are planing to deploy the service and copy its AMI ID. </p><p>Once you have everything in place, just execute deploy.sh and it will prompt you for all the parameters in the same order provided above.
Since it is good practice to have a backup enabled, please provide S3 bucket a name when deploying.
Please enter the parameters carefully. </p><p><strong>Make sure you copy the IP address after the deployment is over.</strong>
This is your TDEX endpoint IP, and it can be accessed over port 9000.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">cd</span><span class="token plain"> terabox/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">chmod</span><span class="token plain"> +x deploy.sh</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ ./deploy.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="Deploy" src="/assets/images/deploy-3bf69430842f2fe5c689a7f8fe254acd.png" width="772" height="614" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tor">Tor<a class="hash-link" href="#tor" title="Direct link to heading">​</a></h3><p>When executing deploy.sh, you can also setup your service behind Tor.
You can provide your own V3 Onion private key, or simply leave it empty in order to have the service to generate it for you. </p><p>Connect to your Linux box over SSH and get onion endpoint.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">ssh</span><span class="token plain"> -i ~/.ssh/key_location ubuntu@your.tdex.host.ip</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">docker</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">exec</span><span class="token plain"> tor onions</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Once you have your Onion endpoint, please follow <a href="https://dev.tdex.network/docs/provider/registry" target="_blank" rel="noopener noreferrer">this</a> tutorial on how to register your onion endpoint in the <a href="https://github.com/TDex-network/tdex-registry" target="_blank" rel="noopener noreferrer">public TDEX registry </a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="install-and-use-tdex-cli-on-you-local-machine">Install and use TDEX-CLI on you local machine<a class="hash-link" href="#install-and-use-tdex-cli-on-you-local-machine" title="Direct link to heading">​</a></h3><p>TDEX is a CLI (GRPC client), that can be used to interact with a remote TDEX-daemon endpoint.
We need to init/configure tdex-cli, which is a way of authenticating to the remote running deamon.
When configuring the service, we need to provide several things:</p><ul><li>tls_cert_path</li><li>macaroons_path</li><li>rpcserver (this will be IP of machine where tdex-box is deployed)</li></ul><p>To install TDEX CLI you need to run <strong>getCli.sh</strong> located in scripts folder. If installed successfully tdex-cli will print help menu.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">chmod</span><span class="token plain"> +x terabox/scripts/getCli.sh</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> ./terabox/scripts/getCli.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Once you have installed tdex-cli, you will need to download the TLS certificate and macaroons from your tdexd host machine in order to connect remotely. This command will download the whole tdexd/ folder which is a copy of your container deamon. </p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$  </span><span class="token function" style="color:rgb(80, 250, 123)">scp</span><span class="token plain"> -r user@your.tdex.host.ip:</span><span class="token environment constant" style="color:rgb(189, 147, 249)">$HOME</span><span class="token plain">/tdex-box/tdexd </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Configure the tdex-cli with downloaded macaroons and certificate, and add your remote endpoint IP. </p><ul><li>cert.pem is located at $HOME/tdex-box/tdexd/tls/cert.pem on the remote machine</li><li>admin.macaroon is located at $HOME/tdex-box/tdexd/macaroons/admin.macaroon on the remote machine</li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># By default it looks for the daemon operator gRPC interface on localhost:9000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># or on a remote machine</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ tdex config init --rpcserver</span><span class="token operator">=</span><span class="token plain">tdex.remote.host.ip:9000 --tls_cert_path</span><span class="token operator">=</span><span class="token plain">./cert.pem --macaroons_path</span><span class="token operator">=</span><span class="token plain">./admin.macaroon</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">##### OR you can use the config command to set your values</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ tdex config</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ tdex config </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">set</span><span class="token plain"> tls_cert_path ./cert.pem</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ tdex config </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">set</span><span class="token plain"> macaroons_path ./admin.macaroon</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ tdex config </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">set</span><span class="token plain"> rpcserver tdex.remote.host.ip </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">After those are set, you can </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">test</span><span class="token plain"> the TDEX daemon</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ tdex listmarket</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ tdex </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">help</span><span class="token plain">   </span><span class="token operator">&lt;</span><span class="token plain">-- </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">more</span><span class="token plain"> information and commands</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For more information <a href="https://dev.tdex.network/docs/provider/daemon/getting_started/configure_cli" target="_blank" rel="noopener noreferrer">how to configure and use the TDEX CLI</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="deposit-funds">Deposit funds<a class="hash-link" href="#deposit-funds" title="Direct link to heading">​</a></h3><p><strong>Done!</strong> Now you are ready to <a href="https://dev.tdex.network/docs/provider/daemon/deposit_funds" target="_blank" rel="noopener noreferrer">deposit funds</a> to open a market and earn swap fees.</p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/terraform/">terraform</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/automation/">automation</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/tdex/">tdex</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/deploy/">deploy</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/tdex-network/dev-portal/edit/master/blog/blog/2021-09-15-tdex-terraform-deploy-aws.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/liquid-pegin-browser/"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Liquid Bitcoin peg-in(s) in the browser!</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#create-a-user-and-obtain-aws-keys" class="table-of-contents__link toc-highlight">Create a user and obtain AWS Keys</a></li><li><a href="#install-terraform" class="table-of-contents__link toc-highlight">Install Terraform</a></li><li><a href="#proceed-with-cloning-and-deployment" class="table-of-contents__link toc-highlight">Proceed with cloning and deployment</a></li><li><a href="#tor" class="table-of-contents__link toc-highlight">Tor</a></li><li><a href="#install-and-use-tdex-cli-on-you-local-machine" class="table-of-contents__link toc-highlight">Install and use TDEX-CLI on you local machine</a></li><li><a href="#deposit-funds" class="table-of-contents__link toc-highlight">Deposit funds</a></li></ul></div></div></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">DOCS</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/latest/specs/index/">Specifications</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/latest/trader/intro/">Trader</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/latest/provider/intro/">Liquidity Provider</a></li></ul></div><div class="col footer__col"><div class="footer__title">COMMUNITY</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/tdexnetwork" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">MORE</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog/">Blog</a></li><li class="footer__item"><a href="https://github.com/tdex-network" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 TDEX Network. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.8b4282f6.js"></script>
<script src="/assets/js/main.57348e5c.js"></script>
</body>
</html>